<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <link rel="stylesheet" href="file:///D:/Program Files/MATLAB/R2014a/toolbox/matlab/helptools/private/helpwin.css">
      <title>MATLAB &#25991;&#20214;&#24110;&#21161;: cv.integral</title>
   </head>
   <body>
      <!--Single-page help-->
      <table border="0" cellspacing="0" width="100%">
         <tr class="subheader">
            <td class="headertitle">MATLAB &#25991;&#20214;&#24110;&#21161;: cv.integral</td>
            <td class="subheader-left">&#26597;&#30475; cv.integral &#30340;&#20195;&#30721;</td>
            <td class="subheader-right"><a href="index.html">Index</a></td>
         </tr>
      </table>
      <div class="title">cv.integral</div>
      <div class="helpcontent"><p>integral  Calculates the integral of an image</p>

<pre><code>s = <a href="integral.html">cv.integral</a>(src)
[s, sqsum, tilted] = <a href="integral.html">cv.integral</a>(src)
[...] = <a href="integral.html">cv.integral</a>(src, 'OptionName',optionValue, ...)
</code></pre>

<h2> Input</h2>

<ul>
<li><strong>src</strong> Source image as <code>W x H</code>, 8-bit, 16-bit or floating-point
(<code>single</code> or <code>double</code>).</li>
</ul>

<h2> Output</h2>

<ul>
<li><strong>s</strong> Integral image as <code>(W+1) x (H+1)</code>, 32-bit integer or floating-point
(<code>single</code> or <code>double</code>).</li>
<li><strong>sqsum</strong> Integral image for squared pixel values. It is <code>(W+1) x (H+1)</code>,
double-precision floating-point array.</li>
<li><strong>tilted</strong> Integral for the image rotated by 45 degrees. It is
<code>(W+1) x (H+1)</code> array with the same data type as <code>s</code>.</li>
</ul>

<h2> Options</h2>

<ul>
<li><strong>SDepth</strong> desired depth of the integral and the tilted integral images,
<code>int32</code>, <code>single</code>, or <code>double</code>. default -1</li>
<li><strong>SQDepth</strong> desired depth of the integral image of squared pixel values,
<code>single</code> or <code>double</code>. default -1</li>
</ul>

<p>The functions calculate one or more integral images for the source image as
follows:</p>

<pre><code> s(X,Y) = \sum_{x&lt;X,y&lt;Y} src(x,y)
 sqsum(X,Y) = \sum_{x&lt;X,y&lt;Y} src(x,y)^2
 tilted(X,Y) = \sum_{y&lt;Y,abs(x-X+1)&lt;=Y-y-1} src(x,y)
</code></pre>

<p>Using these integral images, you can calculate sum, mean, and standard
deviation over a specific up-right or rotated rectangular region of the
image in a constant time, for example:</p>

<pre><code> \sum_{x_1 &lt;= x &lt; x_2, y_1 &lt;= y &lt; y_2} src(x,y)
   = s(x_2, y_2) - s(x_1, y_2) - s(x_2, y_1) + s(x_1, y_1)
</code></pre>

<p>It makes possible to do a fast blurring or fast block correlation with a
variable window size, for example. In case of multi-channel images, sums for
each channel are accumulated independently.</p>
</div><!--after help --><!--seeAlso--><div class="footerlinktitle">See also</div><div class="footerlink"> integralImage</div>
   </body>
</html>