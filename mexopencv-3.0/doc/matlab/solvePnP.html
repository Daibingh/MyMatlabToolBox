<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <link rel="stylesheet" href="file:///D:/Program Files/MATLAB/R2014a/toolbox/matlab/helptools/private/helpwin.css">
      <title>MATLAB &#25991;&#20214;&#24110;&#21161;: cv.solvePnP</title>
   </head>
   <body>
      <!--Single-page help-->
      <table border="0" cellspacing="0" width="100%">
         <tr class="subheader">
            <td class="headertitle">MATLAB &#25991;&#20214;&#24110;&#21161;: cv.solvePnP</td>
            <td class="subheader-left">&#26597;&#30475; cv.solvePnP &#30340;&#20195;&#30721;</td>
            <td class="subheader-right"><a href="index.html">Index</a></td>
         </tr>
      </table>
      <div class="title">cv.solvePnP</div>
      <div class="helpcontent"><p>solvePnP  Finds an object pose from 3D-2D point correspondences</p>

<pre><code>[rvec, tvec, success] = <a href="solvePnP.html">cv.solvePnP</a>(objectPoints, imagePoints, cameraMatrix)
[...] = <a href="solvePnP.html">cv.solvePnP</a>(..., 'OptionName', optionValue, ...)
</code></pre>

<h2> Input</h2>

<ul>
<li><strong>objectPoints</strong> Array of object points in the object coordinate space,
1xNx3/Nx1x3 or Nx3 array, where <code>N</code> is the number of points, or cell
array of length <code>N</code> of 3-element vectors can be also passed here
<code>{[x,y,z], ...}</code>.</li>
<li><strong>imagePoints</strong> Array of corresponding image points, 1xNx2/Nx1x2 or
Nx2 array, where <code>N</code> is the number of points, or cell array of
length <code>N</code> of 2-element vectors can be also passed here
<code>{[x,y], ...}</code>.</li>
<li><strong>cameraMatrix</strong> Input camera matrix <code>A = [fx 0 cx; 0 fy cy; 0 0 1]</code>.</li>
</ul>

<h2> Output</h2>

<ul>
<li><strong>rvec</strong> Output rotation vector (see cv.Rodrigues) that, together with
<code>tvec</code>, brings points from the model coordinate system to the
camera coordinate system.</li>
<li><strong>tvec</strong> Output translation vector.</li>
<li><strong>success</strong> success logical flag.</li>
</ul>

<h2> Options</h2>

<ul>
<li><strong>DistCoeffs</strong> Input vector of distortion coefficients
<code>[k1,k2,p1,p2,k3,k4,k5,k6,s1,s2,s3,s4]</code> of 4, 5, 8, or 12 elements.
If the vector is empty, the zero distortion coefficients are assumed.
default empty.</li>
<li><strong>Rvec</strong> Initial <code>rvec</code>. Not set by default.</li>
<li><strong>Tvec</strong> Initial <code>tvec</code>. Not set by default.</li>
<li><strong>UseExtrinsicGuess</strong> Parameter used for <code>Method='Iterative'</code>. If true,
the function uses the provided <code>rvec</code> and <code>tvec</code> values as initial
approximations of the rotation and translation vectors, respectively,
and further optimizes them. default false.</li>
<li><strong>Method</strong> Method for solving the PnP problem. One of the following:<ul>
<li><strong>Iterative</strong> Iterative method is based on Levenberg-Marquardt
optimization. In this case the function finds such a pose that
minimizes reprojection error, that is the sum of squared distances
between the observed projections <code>imagePoints</code> and the projected
(using cv.projectPoints) <code>objectPoints</code>. This is the default.</li>
<li><strong>P3P</strong> Method is based on the paper [1]. In this case the
function requires exactly four object and image points.</li>
<li><strong>EPnP</strong> Method has been introduced in the paper [2].</li>
<li><strong>DLS</strong> Method is based on the paper of [3].</li>
<li><strong>UPnP</strong> Method is based on the paper of [4]. In this case the
function also estimates the parameters <code>fx</code> and <code>fy</code> assuming
that both have the same value. Then the <code>cameraMatrix</code> is
updated with the estimated focal length.</li>
</ul>
</li>
</ul>

<p>The function estimates the object pose given a set of object points,
their corresponding image projections, as well as the camera matrix and
the distortion coefficients.</p>

<h2> References</h2>

<p>[1]:</p>

<blockquote>
<p>X.S. Gao, X.-R. Hou, J. Tang, H.-F. Chang; &quot;Complete Solution
Classification for the Perspective-Three-Point Problem&quot;,
IEEE Trans. on PAMI, vol. 25, No. 8, August 2003.</p>
</blockquote>

<p>[2]:</p>

<blockquote>
<p>F.Moreno-Noguer, V.Lepetit and P.Fua;
&quot;EPnP: Efficient Perspective-n-Point Camera Pose Estimation&quot;.</p>
</blockquote>

<p>[3]:</p>

<blockquote>
<p>Joel A. Hesch and Stergios I. Roumeliotis.
&quot;A Direct Least-Squares (DLS) Method for PnP&quot;.</p>
</blockquote>

<p>[4]:</p>

<blockquote>
<p>A.Penate-Sanchez, J.Andrade-Cetto, F.Moreno-Noguer.
&quot;Exhaustive Linearization for Robust Camera Pose and Focal Length Estimation&quot;.</p>
</blockquote>
</div><!--after help --><!--seeAlso--><div class="footerlinktitle">See also</div><div class="footerlink"> <a href="solvePnPRansac.html">cv.solvePnPRansac</a></div>
   </body>
</html>